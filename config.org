#+TITLE: Emacs Configuration

* General Configuration
#+BEGIN_SRC emacs-lisp
;;; config.el -*- lexical-binding: t; -*-
#+END_SRC

** Personal Information
#+BEGIN_SRC emacs-lisp
(setq user-full-name "Herwig Hoehenberger"
      user-mail-address "herwig.hoehenberger@gmail.com"
      epa-file-encrypt-to user-mail-address)
#+END_SRC
** Better Defaults
*** Simple Settings
#+BEGIN_SRC emacs-lisp
(setq-default
 uniquify-buffer-name-style 'forward              ; Uniquify buffer names
 window-combination-resize t                      ; take new window space from all other windows (not just current)
 x-stretch-cursor t)                              ; Stretch cursor to the glyph width

(setq auto-save-default t                         ; please auto-save my work
      sentence-end-double-space t                 ; the only correct choice
      default-input-method "german-postfix"       ; for when I need to type ä, ö, ü or ß
      evil-want-fine-undo t                       ; the finer the undo, the better
      inhibit-compacting-font-caches t           ; when there are a lot of glyphs, keep them in memory
      undo-limit 80000000                         ; the more the undo, the better
      +evil-want-o/O-to-continue-comments nil)

(delete-selection-mode 1)                         ; Replace selection when inserting text
(global-subword-mode 1)                           ; Iterate through CamelCase words
#+END_SRC
*** Windows
Split windows to the right and buttom.
#+BEGIN_SRC emacs-lisp
  (setq evil-split-window-below t
        evil-vsplit-window-right t)
#+END_SRC

And then, pull up ivy.
#+BEGIN_SRC emacs-lisp
(defadvice! prompt-for-buffer (&rest _)
  :after '(evil-window-split evil-window-vsplit)
  (+ivy/switch-buffer))
#+END_SRC

Previews are also nice.
#+BEGIN_SRC emacs-lisp
(setq +ivy-buffer-preview t)
#+END_SRC
* UI
** Font
I use a different on my two computers.
#+BEGIN_SRC emacs-lisp
(setq doom-font (font-spec :family "Fira Code" :size (if IS-MAC 14.0 11.0)))
#+END_SRC
** Theme
This is subject to frequent change.
#+BEGIN_SRC emacs-lisp
(setq doom-theme 'doom-nord)
#+END_SRC
** Misc
#+BEGIN_SRC emacs-lisp
(setq display-line-numbers-type 'relative
      evil-echo-state nil                      ; I find it distracting; and I can tell the state from the cursor
      frame-title-format "%b"
      mode-line-default-help-echo nil
      scroll-bar-mode nil
      show-help-function nil
      show-paren-delay 0)
#+END_SRC
* Package Configuration
** Calc
Ah, Emacs Calc, poor man's mathematica.
#+BEGIN_SRC emacs-lisp
(after!
    (setq calc-angle-mode 'rad
        calc-algebraic-mode t
        calc-symbolic-mode t)
    (evil-set-initial-state 'calc-mode 'emacs))
#+END_SRC
** Company
I disable autocompletion by default, and only use it on demand
#+BEGIN_SRC emacs-lisp
(after! company
  (setq company-idle-delay nil))
#+END_SRC
** Direnv
I disable the frequent, verbose summary messages
#+BEGIN_SRC emacs-lisp
(after! direnv
  (setq direnv-always-show-summary nil))
#+END_SRC
** Evil-Tex
#+BEGIN_SRC emacs-lisp
(use-package! evil-tex
  :hook (latex-mode . evil-tex-mode))
#+END_SRC
** Hercules
#+BEGIN_SRC emacs-lisp
(use-package! hercules
  :config
  (hercules-def
   :show-funs #'macrostep-expand
   :hide-funs #'macrostep-collapse-all
   :keymap 'macrostep-keymap))
#+END_SRC
